# 15-1. 스트림(Stream)

**스트림(Stream)** : 자바 8부터 추가된 반복자(배열, 컬렉션의 요소를 하나식 참조, 람다식으로 처리)   

```java
List<String> list = Arrays.asList("가", "나", "다");   // 이 컬렉션을 순차적으로 처리하기 위해

// 기존 Iterator 반복자는 while문으로 루핑해야 됬지만,
Iterator<String> iterator = list.iterator();    
while(iterator.hasNext()) {
    String name = iterator.next();
    System.out.println(name);
}

// 스트림(Stream) 반복자로 훨씬 단순하게 똑같은 기능을 수행할 수 있다.
Stream<String> stream = list.stream();
stream.forEach(name -> System.out.println(name));
```

- Stream(스트림) Iterator(이터레이터)와 비슷한 역할의 반복자지만, 많은 차이점 존재

1. #### 람다식으로 요소 처리 코드 제공 
    
    스트림의 대부분 요소 처리 메소드 = **함수적 인터페이스 매개타입을 가짐 -> 람다식, 메소드 참조 사용 가능**
2. #### 내부 반복자(병렬 처리 쉬움)

    - 외부 반복자(External iterator) : 개발자가 코드(```next()```메소드를 호출하거나 해서)로 직접 컬렉션 요소를 하나식 참조
    - 내부 반복자(Internal iterator) : 컬렉션 내부에서 알아서 요소를 반복시킴, 개발자는 요소당 처리해야할 코드만 제공
    
    내부 반복자로 개발자는 요소 처리 코드에만 집중 가능 -> 코드 간결  
    *병렬 처리 스트림*을 사용하면, 요소의 병렬 처리도 컬렉션 내부에서 처리 가능
    
    > **병렬(parallel) 처리** : 한 작업 -> 여러 서브 작업으로 쪼개고, 이 서브 작업들을 분리된 쓰레드에서 병렬적으로 처리하는 것  
    -> 원래 *순차 처리 스트림*은 요소 총합을 구할때도, 처음부터 끝까지 읽어 합을 구하지만, *병렬 처리 스트림*은 여러 스레드가 요소를 부분적으로 합하고, 합한 값들을 최종 결합해 전체 합을 생성                                                                                                                                                                                                                                                                                         
     
3. #### 중간 처리, 최종 처리 작업 수행

    - 중간 처리 : 매핑, 필터링, 정렬
    - 최종 처리 : 반복, 카운팅, 평균, 총합(집계 처리)
    
    컬렉션을 처리하는 스트림이 중간과 최종으로 나뉘어, 2차 처리 작업 수행 가능
    

## 스트림의 종류

