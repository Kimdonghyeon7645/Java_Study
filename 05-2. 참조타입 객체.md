# 5-2. 참조타입 객체 (String, 배열, 열거(enum))

## String 타입
자바의 문자열을 저장할 때 사용하는 타입
```java
String var;
var = "문자열";

String var2 = "문자열";
```
문자열 리터럴을 참조변수에 대입하면, 같은 문자열일 경우 같은 String 객체를 참조.  
new 연산자로 생성한 String 객체를 참조변수에 대입하면, 같은 문자열이라도 다른 String 객체를 참조.

### .equals() 메소드
두 문자열 객체가 서로 같은 문자열인지 비교할 때, ==은 같은 객체인지 비교하기에, 값을 비교할 수 없음.  
-> Strings 객체의 **equals()** 메소드로 두 객체의 문자열 값을 비교.
```java
원본문자열객체.equals(비교문자열객체);
```
equals() 메소드는 두 객체의 문자열 값이 동일한지 boolean 값으로 반환.  

## 배열 타입

- 같은 타입의 데이터만 저장 가능.  
- 한번 생성된 배열은 길이를 수정 불가.

```java
타입[] 변수;
타입 변수[];
```
위 2가지 방식으로 선언.  
초기화가 선언과 같이되므로, 따로 사용 불가. 
```java
타입[] 변수 = { 값0, 값1, 값2, ... };  // 정상 처리

타입[] 변수;
변수 = { 값0, 값1, 값2, ... };   // 컴파일 에러
```
배열 초기화시 {}를 이용,  
배열을 새로 생성할 땐 new 연산자 사용.
```java
타입[] 변수;
변수 = new 타입[] { 값0, 값1, 값2, ... };


// 메소드 매개변수가 배열일 때도 마찬가지
int method(int[] scores) {
    ...
}
int result = method ( {1, 2, 3} );   // 컴파일 에러
int result = method ( new int[] {1, 2, 3} );   // 정상 처리
```

### new 연산자, 배열 초기값
```java
new 타입[] { 값0, 값1, 값2, ... };   // 값이 있는 배열 객체 생성
new 타입[길이];       // 값이 없는 배열 객체 생성
```
new 연산자로 값이 없는 객체 생성시, 지정한 배열 길이만큼, 배열 타입의 초기값으로 초기화

분류|데이터 타입|초기값
:---:|:---:|:---:
기본 타입 - 정수|byte[]|0
기본 타입 - 정수|char[]|'\u0000'
기본 타입 - 정수|short[]|0
기본 타입 - 정수|int[]|0
기본 타입 - 정수|long[]|0L
기본 타입 - 실수|float[]|0.0F
기본 타입 - 실수|double[]|0.0
기본 타입 - 논리|boolean[]|false
참조 타입|클래스[]|null
참조 타입|인터페이스[]|null

### 배열 길이
```java
배열객체.length
```
**.length** 속성으로 배열의 길이 추출  
```java
public class Haha {
    public static void main(String[] args){
        int[] array = { 10, 20, 30 };
        int sum = 0;
        for(int i=0; i < array.length; i++) {
            sum += array[i];
        }
        System.out.println("총합 = " + sum);
    }
}
```
이같이 for문에서 배열을 모두 순회(루핑)할 때 활용

### String[] args 사용

cmd에서,   
``` java 클래스명.class ```
로 프로그램을 실행할 때,  
``` java 클래스명.class 인자1 인자2 ... ```
과 같이 뒤에 인자를 전달할 수 있음, 전달한 인자값들은 ```public static void main()``` 의 ```String[] args``` 배열 변수에 저장
```java
public class Haha {
    public static void main(String[] args){
        if(args.length != 2) {
            System.out.println("프로그램을 실행시, "+args.length+"개의 전달인자를 넘겨주세요!");
        }
        int num1 = Integer.parseInt(args[0]);
        int num2 = Integer.parseInt(args[1]);
        int result = num1 + num2;
        System.out.println("합계 = " + result);
    }
}
```

### 다차원 배열
일차원 배열에서 일차원 배열을 담는 구조로 다차원 배열 생성 가능
```java
타입[][] 변수 = new 타입[행(가로)개수][열(세로)개수];

변수.length       // 변수의 행 개수(길이)
변수[0].length    // 변수의 열 개수(길이)
```
위같이 행에 따른 열의 길이가 모두 같은 다차원 배열 말고도,  
열이 제각각의 길이를 가지는 다차원 배열 생성가능
```java
타입[][] 변수 = new 타입[2][];
타입[0] = new 타입[4];
타입[0] = new 타입[2];

// ㅁㅁㅁㅁ
// ㅁㅁ
// 와 같은 배열 생성
```

### 배열 복사

배열은 중간에 크기 수정 불가때문에, 길이 수정시 배열을 복사
- for 문으로 일일이 복사
- ```System.arraycopy(원본배열, 복사할시작인덱스, 붙여넣을배열, 붙여넣을시작인덱스, 복사할개수)``` 메소드 호출

- 얕은 복사(shallow copy) : 참조타입변수가 참조하는 객체는 동일
- 깊은 복사(deep copy) : 참조타입변수가 참조하는 객체도 별도로 복사

### for문 향상

```java
for( 타입변수 : 배열or컬랙션 ) {
    실행문;
}
```
위같이 배열 or 컬랙션의 원소들을 차례대로 모두 추출하면서, for문을 반복해서 실행하는 문법 가능



## 열거 타입

열거 타입(enumeration type) : 지정한 열거 상수(enumeration constant)중 하나의 상수만 저장할 수 있는 데이터 타입  

    ex)     
    { 시민, 마피아 } 의 열거 상수들로 '마피아'라는 이름의 열거 타입을 만들면,
    데이터 타입이 '마피아' 열거 타입인 변수는 지정한 열거 상수인 { 시민, 마피아 } 중 하나의 상수 값(시민 or 마피아)만 가질 수 있으며,  
    다른 값을 가지면 오류가 남. 

### 열거 타입 선언

```java
enum 열거타입명 { 상수1, 상수2, ... }
```
main 메소드 안에서도 선언할 수 있지만, 일반적으로 메소드 밖이나, 소스파일로 분리해서 선언  
(열거 타입의 구성 성분은 수정할 필요 없음 + 열거 타입이 특정 코드지역에 제한되면 안되기 때문에 전역으로 선언)

- 열거 타입은 **단어 첫 글자를 대문자** 로 작성이 관례
- 열거 타입의 **열거 상수** 는 **모두 대문자** 로 작성, 여러 단어이면 **\_로 단어 사이 연결** 하는 것이 관례

main 메소드 밖에 선언하면, ```public``` 키워드를 앞에 붙여 선언   
소스파일(.java)로 분리해 선언하면, 소스파일명을 열거타입명으로 정하고, 그안에 ```public``` 키워드를 앞에 붙여 선언
```java
// ex)
public enum WhatLanguage {
    JAVA,
    PYTHON,
    JS,
    C,
    C_PIUS,
}
```

### 열거 타입 변수 사용
```java
열거타입 변수;
```
으로 열거 타입 변수를 선언
```java
열거타입 변수 = 열거타입.열거상수;    // 정상 처리

열거타입 변수 = null;
변수 = 열거타입.열거상수;     // 정상 처리
```
으로 열거 타입 변수의 값을 초기화, 저장

### 열거 타입 메소드

메소드|리턴값|설명
:---:|:---:|:---:
name()|String|열거 객체의 문자열을 리턴
ordinal()|int|열거 객체의 인덱스를 리턴
compareTo()|int|열거 객체를 비교해서 인덱스 차이를 리턴
valueOf(String name)|열거 타입|주어진 문자열의 열거 객체를 리턴
values()|열거 배열|모든 열거 객체들을 배열로 리턴
